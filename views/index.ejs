<% include header.ejs %>

<div>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<!-- Monico MSJ Ad Horiz Banner -->
	<ins class="adsbygoogle"
	     style="display:inline-block;width:728px;height:90px"
	     data-ad-client="ca-pub-3567968236692671"
	     data-ad-slot="3091927740"></ins>
	<script>
	(adsbygoogle = window.adsbygoogle || []).push({});
	</script>
</div>

<div class="content container-fluid">
	<div class="row">
		<!--start job listings-->
		<div class="col-xs-8 col-md-9" data-ng-app="indexNgApp" data-ng-controller='ListingsController as controller'
	        data-ng-init='controller.listings=<%= listingsData %>'>

	    <p data-ng-bind="">Loading...</p>

		<h4 data-ng-hide='{{controller.listings.length > 0}}' class="listingTitle ng-cloak">No Listings at this time.  Please check later.</h4>

		<article class='opp-smry-cntnr listingAlternating ng-cloak' data-ng-repeat="listing in controller.listings">
			<div class="pull-left hover-box">
				<a href="{{$location.absUrl()}}/#/listing/{{listing.jobId}}" class="hover-link">
					<span class="glyphicon glyphicon-link"></span>
				</a>
			</div>
			<div id="{{listing.jobId}}" class="panel panel-primary">
				<div class="panel-heading"  title="{{listing.jobId}}">
					<h3 class="panel-title">
						<a href="#{{listing.jobId}}-panel" data-toggle="collapse" data-parents="panel-1">{{ listing.jobTitle }} 
						</a>
						<button type="button"  id="more" class="btn btn-primary pull-right btn-xs" data-toggle="collapse" data-target="#{{listing.jobId}}-panel">
							<span class="toggle-icon glyphicon glyphicon-chevron-down"></span>
						</button>
					</h3>
				</div>
				<!--TODO: add "in" class to expand by default-->
				<div id="{{listing.jobId}}-panel" class="panel-collapse collapse">
					<div class="panel-body">
				<!--start job description-->
						<div class="row">
							<div class="col-md-3 col-md-push-9 lstg-rcol">
								<div class="text-left prsu-sctn">
									<!--start Pursue button-->
						            <!-- cdntodo: convert this anchor into a custom ng directive --> 
						            <div class="btn btn-success btn-lg" data-toggle="tooltip" title="Not applying..no commitment...just getting more information.">
						             	<a href='mailto:{{controller.getMailToString(listing.jobTitle, listing.jobId)}}' >
										Explore</a>
						            </div>
						            <div>
							            <label>ID:</label><a data-toggle="tooltip" title="Gets direct link to this job post." href="{{$location.absUrl()}}/#/listing/{{listing.jobId}}"><span data-ng-bind="listing.jobId"></span></a>
							          </div>
							          <div>
													<label>Date Posted:</label><span>{{listing.postingDate | date:"MM-dd-yyyy"}}</span>
	      								</div>
								</div>
							</div>
							<div class="col-md-9 col-md-pull-3 lstg-lcol">
								<div class="well">
									<div class="form-inline">
										<div class="form-group" data-ng-hide="{{listing.level === null || listing.level === undefined}}">
											<label>Level:</label> {{listing.level}}&nbsp;&nbsp;&nbsp;
										</div>
										<div class="form-group" data-ng-hide="{{listing.hireType === null || listing.hireType === undefined}}">
											<label>Opp Type:</label> {{listing.hireType}}
										</div>
									</div>
									<div class="form-inline">
										<div class="form-group" data-ng-hide="{{listing.compensationRange === null || listing.compensationRange === undefined}}">
											<label>Salary:</label>&nbsp;&nbsp;<span data-ng-bind="listing.compensationRange"></span>
										</div>
										<div class="form-group" data-ng-hide="{{listing.benefitsGeneral === null || listing.benefitsGeneral === undefined}}">
											<label>Benefits:</label>&nbsp;&nbsp;<span data-ng-bind="listing.benefitsGeneral"></span>
										</div>
									</div>
									<div>
										<div class="form-group">
					            <label>Description:</label>
									<div data-ng-repeat="descr in listing.briefDescr">
										<p class='opp-desc'>{{descr}}</p>
									</div>
							      </div>
				            <div class="form-group" data-ng-hide="listing.skills === null && listing.tools === null && listing.responsibilities === null">
					            <label>Skills/Tools/Responsibilities:</label>
					            <div>
					              <ul class='skls-tls-resps-lst'>
					                  <li data-ng-repeat='skill in listing.skills' data-ng-bind="skill"></li>
					                  <li data-ng-repeat='tool in listing.tools' data-ng-bind="tool"></li>
					                  <li data-ng-repeat='resp in listing.responsbilities' data-ng-bind="resp"></li>
					              </ul>
					            </div>
				            </div>

				            <div class="clear-both" data-ng-repeat="customList in listing.customLists">
					            <div class="form-group">
					            		<label data-ng-bind="customList.header"></label>
					            		<div>
						            		<ul class='cstm-lst'>
						            			<li data-ng-bind="item" data-ng-repeat="item in customList.list"></li>
						            		</ul>
					            		</div>
					            </div>
				          	</div>

							<div class="clear-both"></div>


				            <div class="form-group clear-both" data-ng-hide="{{listing.degree === null || listing.degree === undefined}}">
					            <label>Education/Degree:</label>&nbsp;&nbsp;<span data-ng-bind="listing.degree"></span>
				            </div>
				            <div class="clear-both form-group" data-ng-hide="{{listing.employmentEligibility === null || listing.employmentEligibility === undefined}}">
				            	<label>Employment Eligibility:</label>
				            	<span data-ng-bind="listing.employmentEligibility"></span>
				            </div>
				            <div class="clear-both form-group" data-ng-hide="{{listing.teamStructureExpertise === null || listing.teamStructureExpertise === undefined}}">
					            <label title='Please note that numbers could change.'>Team Structure/Expertise<sup title='Please note that numbers could change.'>(*)</sup>:</label>
					            <p data-ng-bind="listing.teamStructureExpertise"></p>
				            </div>
				            <div class="clear-both form-group" data-ng-hide="{{listing.projectWorkflow === null || listing.projectWorkflow === undefined}}">
					            <label>Project Workflow:</label>
					            <ul>
					                <li data-ng-repeat='step in listing.projectWorkflow'>{{step}}</li>
					            </ul>
										</div>
			       			</div>
						       
										<div class="clear-both form-group" data-ng-hide="{{listing.vettingProcess === null || listing.vettingProcess === undefined}}">
											<label>Vetting Process:</label>
											&nbsp;&nbsp;<span data-ng-bind="listing.vettingProcess"></span>											
										</div>

						       <p class="clear-both" data-ng-hide="{{listing.hiringCompany === null || listing.hiringCompany === undefined}}">
						       		<label>Hiring Company:&nbsp;&nbsp;</label>
											<span data-ng-bind="listing.hiringCompany"></span>
						       </p>

						       <p class="clear-both" data-ng-hide="{{listing.companyWebSite === null || listing.companyWebSite === undefined}}">
						       		<label>Company Web Site:&nbsp;&nbsp;</label>
						       		<a href="{{listing.companyWebSite}}" target="_blank" data-ng-bind="listing.companyWebSite"></a>
						       </p>

						      <div class="form-inline">
										<div class="form-group" data-ng-hide="{{listing.locationCompanyOffice === null || listing.locationCompanyOffice === undefined}}">
											<label title="Location of the home office (aka HQ).">Office Location:</label>
											&nbsp;&nbsp;<span data-ng-bind="listing.locationCompanyOffice"></span>											
										</div>
										<div class="form-group" data-ng-hide="{{listing.locationOppWork === null || listing.locationOppWork === undefined}}">
											<label title="Where you'd work. e.g. on-site, remote.">Work Location:</label>
											&nbsp;&nbsp;<span data-ng-bind="listing.locationOppWork"></span>											
										</div>
									</div>
				          <div data-ng-hide="{{listing.notes === null || listing.notes === undefined || listing.notes.length <= 0}}">
			              <label>Notes: </label>
			              <div data-ng-repeat="note in listing.notes">
			              	<p data-ng-bind="note"></p>
			            	</div>
			            </div>	
						     </div>
							</div>
						</div>
	           <!--end job description-->
	   			</div>
				</div>
			</div>
		</article>

		<div class="lst-cnt-smry ng-cloak" data-ng-hide="controller.listings.length <= 0">
			Total of
			<span data-ng-bind="controller.listings.length"></span>
			Jobs Listed!
		</div>

			<div data-ng-view></div>
		</div>

	  <div class="col-xs-4 col-md-3">
	    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	    <!-- Monico MSJ Ad -->
	    <ins class="adsbygoogle"
	         style="display:inline-block;width:160px;height:600px"
	         data-ad-client="ca-pub-3567968236692671"
	         data-ad-slot="8073320943"></ins>
	    <script>
	    (adsbygoogle = window.adsbygoogle || []).push({});
	    </script>
	  </div>

		</div>

	</div>
</div>


	<!--end job listings-->
	<% include footer.ejs %>

<script src='/javascripts/index.ng.js'></script>
	